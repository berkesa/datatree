<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>KRYO format | DataTree Tools</title>
    <meta name="description" content="Java Library for manipulating hierarchical data structures">
    <link rel="icon" href="favicon.ico">
    
    <link rel="preload" href="/datatree/assets/css/0.styles.b8e31dc0.css" as="style"><link rel="preload" href="/datatree/assets/js/app.865fb8e2.js" as="script"><link rel="preload" href="/datatree/assets/js/2.ee31c260.js" as="script"><link rel="preload" href="/datatree/assets/js/12.27b8e96c.js" as="script"><link rel="prefetch" href="/datatree/assets/js/10.154176e7.js"><link rel="prefetch" href="/datatree/assets/js/11.13e30bf5.js"><link rel="prefetch" href="/datatree/assets/js/13.2e934e01.js"><link rel="prefetch" href="/datatree/assets/js/14.6a650786.js"><link rel="prefetch" href="/datatree/assets/js/15.15845a6a.js"><link rel="prefetch" href="/datatree/assets/js/16.c8356778.js"><link rel="prefetch" href="/datatree/assets/js/17.9c2bf1d8.js"><link rel="prefetch" href="/datatree/assets/js/18.fe221f42.js"><link rel="prefetch" href="/datatree/assets/js/19.00863067.js"><link rel="prefetch" href="/datatree/assets/js/20.35acc786.js"><link rel="prefetch" href="/datatree/assets/js/21.353505c0.js"><link rel="prefetch" href="/datatree/assets/js/22.414d84b2.js"><link rel="prefetch" href="/datatree/assets/js/23.4ff450fd.js"><link rel="prefetch" href="/datatree/assets/js/24.af300343.js"><link rel="prefetch" href="/datatree/assets/js/25.8da43010.js"><link rel="prefetch" href="/datatree/assets/js/26.ccea98c7.js"><link rel="prefetch" href="/datatree/assets/js/27.78d74f3f.js"><link rel="prefetch" href="/datatree/assets/js/28.13bbb76a.js"><link rel="prefetch" href="/datatree/assets/js/29.dbba4228.js"><link rel="prefetch" href="/datatree/assets/js/3.d6a29060.js"><link rel="prefetch" href="/datatree/assets/js/4.45e26465.js"><link rel="prefetch" href="/datatree/assets/js/5.c8f57ed4.js"><link rel="prefetch" href="/datatree/assets/js/6.9707e712.js"><link rel="prefetch" href="/datatree/assets/js/7.dfce4d4a.js"><link rel="prefetch" href="/datatree/assets/js/8.3ddee634.js"><link rel="prefetch" href="/datatree/assets/js/9.6f5c29f5.js">
    <link rel="stylesheet" href="/datatree/assets/css/0.styles.b8e31dc0.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/datatree/" class="home-link router-link-active"><img src="logo.png" alt="DataTree Tools" class="logo"> <span class="site-name can-hide">DataTree Tools</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/datatree/" class="nav-link">Home</a></div><div class="nav-item"><a href="/datatree/introduction.html" class="nav-link">Documentation</a></div><div class="nav-item"><a href="https://www.patreon.com/berkesa" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Donate
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/berkesa/datatree" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/datatree/" class="nav-link">Home</a></div><div class="nav-item"><a href="/datatree/introduction.html" class="nav-link">Documentation</a></div><div class="nav-item"><a href="https://www.patreon.com/berkesa" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Donate
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/berkesa/datatree" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>DataTree Core API</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Text-based formats</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Binary formats</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/datatree/format-cbor.html" class="sidebar-link">CBOR</a></li><li><a href="/datatree/format-bson.html" class="sidebar-link">BSON</a></li><li><a href="/datatree/format-smile.html" class="sidebar-link">SMILE</a></li><li><a href="/datatree/format-ion.html" class="sidebar-link">Amazon ION</a></li><li><a href="/datatree/format-msgpack.html" class="sidebar-link">MessagePack</a></li><li><a href="/datatree/format-java.html" class="sidebar-link">Java Serialization</a></li><li><a href="/datatree/format-kryo.html" class="active sidebar-link">Kryo</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/datatree/format-kryo.html#kryo-format" class="sidebar-link">KRYO format</a></li><li class="sidebar-sub-header"><a href="/datatree/format-kryo.html#dependencies" class="sidebar-link">Dependencies</a></li><li class="sidebar-sub-header"><a href="/datatree/format-kryo.html#reading-and-writing-using-kryo-adapter" class="sidebar-link">Reading and writing using Kryo adapter</a></li></ul></li><li><a href="/datatree/performance-binary.html" class="sidebar-link">Performance of binary APIs</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>DataTree template engine</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Asynchronous data processing</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="kryo-format"><a href="#kryo-format" class="header-anchor">#</a> KRYO format</h2> <p>Kryo is a fast and efficient binary object graph serialization framework for Java.
The goals of the project are high speed, low size, and an easy to use API.
The project is useful any time objects need to be persisted,
whether to a file, database, or over the network.
Kryo can also perform automatic deep and shallow copying/cloning.
This is direct copying from object to object, not object to bytes to object.</p> <h2 id="dependencies"><a href="#dependencies" class="header-anchor">#</a> Dependencies</h2> <p>To use the Kryo API, add Kryo Adapters and Kryo JARs to the classpath:</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- DATATREE API --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.github.berkesa<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>datatree-adapters<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.0.15<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- KRYO API --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.esotericsoftware<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>kryo<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>5.1.1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="reading-and-writing-using-kryo-adapter"><a href="#reading-and-writing-using-kryo-adapter" class="header-anchor">#</a> Reading and writing using Kryo adapter</h2> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// Parsing Kryo document</span>
<span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> bytes <span class="token operator">=</span> <span class="token string">&quot; ... bytes of the Kryo document ... &quot;</span><span class="token punctuation">;</span>
<span class="token class-name">Tree</span> document <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Tree</span><span class="token punctuation">(</span>bytes<span class="token punctuation">,</span> <span class="token string">&quot;kryo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Getting / setting values</span>
<span class="token class-name">InetAddress</span> value <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;host&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">asInetAddress</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;host&quot;</span><span class="token punctuation">,</span> <span class="token class-name">InetAddress</span><span class="token punctuation">.</span><span class="token function">getLocalHost</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Generating Kryo byte array from Tree</span>
<span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> bytes <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">toBinary</span><span class="token punctuation">(</span><span class="token string">&quot;kryo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/datatree/edit/master/site/format-kryo.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">10/5/2020, 6:46:12 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/datatree/format-java.html" class="prev">Java Serialization</a></span> <span class="next"><a href="/datatree/performance-binary.html">Performance of binary APIs</a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/datatree/assets/js/app.865fb8e2.js" defer></script><script src="/datatree/assets/js/2.ee31c260.js" defer></script><script src="/datatree/assets/js/12.27b8e96c.js" defer></script>
  </body>
</html>
