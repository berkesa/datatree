<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Amazon ION format | DataTree Tools</title>
    <meta name="description" content="Java Library for manipulating hierarchical data structures">
    <link rel="icon" href="favicon.ico">
    
    <link rel="preload" href="/datatree/assets/css/0.styles.b4e88861.css" as="style"><link rel="preload" href="/datatree/assets/js/app.dc154a96.js" as="script"><link rel="preload" href="/datatree/assets/js/2.bb98c43c.js" as="script"><link rel="preload" href="/datatree/assets/js/9.f53ff39d.js" as="script"><link rel="prefetch" href="/datatree/assets/js/10.277d2d61.js"><link rel="prefetch" href="/datatree/assets/js/11.b3ef27b9.js"><link rel="prefetch" href="/datatree/assets/js/12.f93bec77.js"><link rel="prefetch" href="/datatree/assets/js/13.db134f80.js"><link rel="prefetch" href="/datatree/assets/js/14.82e95f36.js"><link rel="prefetch" href="/datatree/assets/js/15.ee1a1143.js"><link rel="prefetch" href="/datatree/assets/js/16.4e55dad5.js"><link rel="prefetch" href="/datatree/assets/js/17.34137f1d.js"><link rel="prefetch" href="/datatree/assets/js/18.3f218cae.js"><link rel="prefetch" href="/datatree/assets/js/19.ab13149b.js"><link rel="prefetch" href="/datatree/assets/js/20.c7389926.js"><link rel="prefetch" href="/datatree/assets/js/21.2053d042.js"><link rel="prefetch" href="/datatree/assets/js/22.315feb2e.js"><link rel="prefetch" href="/datatree/assets/js/23.bc14b409.js"><link rel="prefetch" href="/datatree/assets/js/24.a408b84b.js"><link rel="prefetch" href="/datatree/assets/js/25.05a9b548.js"><link rel="prefetch" href="/datatree/assets/js/26.1248f353.js"><link rel="prefetch" href="/datatree/assets/js/27.12445f90.js"><link rel="prefetch" href="/datatree/assets/js/28.ced33889.js"><link rel="prefetch" href="/datatree/assets/js/29.93a45117.js"><link rel="prefetch" href="/datatree/assets/js/3.52d022b9.js"><link rel="prefetch" href="/datatree/assets/js/4.fd770e8a.js"><link rel="prefetch" href="/datatree/assets/js/5.dbe3843e.js"><link rel="prefetch" href="/datatree/assets/js/6.d79601ad.js"><link rel="prefetch" href="/datatree/assets/js/7.9aa9f979.js"><link rel="prefetch" href="/datatree/assets/js/8.03e8c606.js">
    <link rel="stylesheet" href="/datatree/assets/css/0.styles.b4e88861.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/datatree/" class="home-link router-link-active"><img src="logo.png" alt="DataTree Tools" class="logo"> <span class="site-name can-hide">DataTree Tools</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/datatree/" class="nav-link">Home</a></div><div class="nav-item"><a href="/datatree/introduction.html" class="nav-link">Documentation</a></div><div class="nav-item"><a href="https://www.patreon.com/berkesa" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Donate
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/berkesa/datatree" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/datatree/" class="nav-link">Home</a></div><div class="nav-item"><a href="/datatree/introduction.html" class="nav-link">Documentation</a></div><div class="nav-item"><a href="https://www.patreon.com/berkesa" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Donate
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/berkesa/datatree" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>DataTree Core API</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Text-based formats</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Binary formats</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/datatree/format-cbor.html" class="sidebar-link">CBOR</a></li><li><a href="/datatree/format-bson.html" class="sidebar-link">BSON</a></li><li><a href="/datatree/format-smile.html" class="sidebar-link">SMILE</a></li><li><a href="/datatree/format-ion.html" class="active sidebar-link">Amazon ION</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/datatree/format-ion.html#amazon-ion-format" class="sidebar-link">Amazon ION format</a></li><li class="sidebar-sub-header"><a href="/datatree/format-ion.html#dependencies" class="sidebar-link">Dependencies</a></li><li class="sidebar-sub-header"><a href="/datatree/format-ion.html#reading-and-writing-ion-documents" class="sidebar-link">Reading and writing ION documents</a></li></ul></li><li><a href="/datatree/format-msgpack.html" class="sidebar-link">MessagePack</a></li><li><a href="/datatree/format-java.html" class="sidebar-link">Java Serialization</a></li><li><a href="/datatree/format-kryo.html" class="sidebar-link">Kryo</a></li><li><a href="/datatree/performance-binary.html" class="sidebar-link">Performance of binary APIs</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>DataTree template engine</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Asynchronous data processing</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="amazon-ion-format"><a href="#amazon-ion-format" class="header-anchor">#</a> Amazon ION format</h2> <p>Amazon Ion is a richly-typed, self-describing, hierarchical data serialization format
offering interchangeable binary and text representations. The text format (a superset of JSON)
is easy to read and author, supporting rapid prototyping. The binary representation is efficient
to store, transmit, and skip-scan parse. The rich type system provides unambiguous semantics for
long-term preservation of business data which can survive multiple generations of software evolution.</p> <h2 id="dependencies"><a href="#dependencies" class="header-anchor">#</a> Dependencies</h2> <p>Add DataTree Adapters and ION JARs to the classpath:</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- DATATREE API --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.github.berkesa<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>datatree-adapters<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.0.14<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- ION API --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>software.amazon.ion<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>ion-java<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.5.1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="reading-and-writing-ion-documents"><a href="#reading-and-writing-ion-documents" class="header-anchor">#</a> Reading and writing ION documents</h2> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// Parsing ION document</span>
<span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> ion <span class="token operator">=</span> <span class="token string">&quot; ... bytes of the ION document ... &quot;</span><span class="token punctuation">;</span>
<span class="token class-name">Tree</span> document <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Tree</span><span class="token punctuation">(</span>ion<span class="token punctuation">,</span> <span class="token string">&quot;ion&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Getting / setting values</span>
<span class="token class-name">UUID</span> value <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">asUUID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
document<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">,</span> UUID<span class="token punctuation">.</span><span class="token function">randomUUID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Generating ION byte array from Tree</span>
<span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> ion <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">toBinary</span><span class="token punctuation">(</span><span class="token string">&quot;ion&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/datatree/edit/master/site/format-ion.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">2/17/2020, 8:20:10 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/datatree/format-smile.html" class="prev">SMILE</a></span> <span class="next"><a href="/datatree/format-msgpack.html">MessagePack</a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/datatree/assets/js/app.dc154a96.js" defer></script><script src="/datatree/assets/js/2.bb98c43c.js" defer></script><script src="/datatree/assets/js/9.f53ff39d.js" defer></script>
  </body>
</html>
